<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>{{ package.dc_title }}</title>
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
        <link href='/static/main.css' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="/static/metadataplayer/LdtPlayer-core.js" type="text/javascript"></script>
    </head>

    <body>
        <h1>{{ package.dc_title }}</h1>
        <div id="LdtPlayer"></div>
        <div id="toc">
          <h3>Slides</h3>
          <div id="AnnotationsListContainer"></div>
        </div>
        <script type="text/javascript">
IriSP.libFiles.defaultDir = "/static/libs/";
IriSP.widgetsDir = "/static/metadataplayer";
var _metadata = {
    url: "/api/package/{{ package.id }}",
    format: 'ldt'
};
var adapt_video = function (url) {
    
};

var _config = {
    width : 800,
    container : 'LdtPlayer',
    default_options: {
        metadata: _metadata
    },
    css : '/static/metadataplayer/LdtPlayer-core.css',
    widgets: [
          {
            type: "HtmlPlayer",
            video: "{{ package.main_media.url }}"
          },
          { type: "Mediafragment"},
          { type: "Slider" },
          { type: "Controller",
            disable_annotate_btn: false }, 
          { type: "MultiSegments",
            annotation_start_minimized: false,
            show_all: true },
         { type: "CreateAnnotation",
           show_slice: true,
           show_arrow: true,
           show_creator_field: false,
           show_title_field: false,
           api_endpoint_template: "/api/annotation",
           polemics: [] },
          {
              type: "AnnotationsList",
              container: "AnnotationsListContainer",
              annotation_type: "Slides",
              limit_count: 60,
              show_audio: false
          }
          ]
          };
          _myPlayer = new IriSP.Metadataplayer(_config);
        </script>
    </body>
</html>
